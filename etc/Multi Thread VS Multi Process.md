## Multi Thread VS Multi Process

#### 공통점

- 동시에 두 가지 이상의 루틴을 실행할 수 있는 역할을 함



#### 멀티 프로세스

- 프로세스는 운영체제로부터 자원을 할당받는 작업의 단위

- 자신만의 메모리 영역을 가짐

- 환경변수와 프로세스 핸들 테이블이 상속 가능할 뿐 결국 독립적인 관계

- fork를 통해 프로세스를 복사

- 유닉스 계열에서 ps 명령어로 수행되고 있는 프로세스를 확인할 수 있음

- 프로세스간 통신을 하려면 IPC(Inter Process Communication; 세마포어, 큐, 공유메모리)를 통해야 함

  > 프로세스 간 통신(IPC, Inter Process Communication) 
  >
  > - 프로세스들 사이에서 서로 데이터를 주고 받는 행위 또는 그에 대한 방법이나 경로
  > - 주요 IPC 방식
  >   - 파일
  >   - 신호
  >   - 소켓
  >   - 메시지 큐
  >   - 파이프
  >   - 세마포어
  >   - 공유메모리
  > - [위키백과 - 프로세스 간 통신](https://ko.wikipedia.org/wiki/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4_%EA%B0%84_%ED%86%B5%EC%8B%A0)



#### 멀티 스레드

- 스레드는 프로세스가 할당받은 자원을 이용하는 실행의 단위
- 하나의 프로세스가 다수 개의 작업을 각각 스레드를 이용하여 동시에 작동시킬 수 있음
- 스레드는 공유메모리를 가짐



#### 멀티스레드의 강점

* Context Swtiching시에 공유 메모리 만큼의 시간(자원) 손실이 줄어든다.

  * 프로세스간의 컨텍스트 스위칭시 단순 CPU 레지스터 교체 뿐 아니라 RAM과 CPU 사이의 캐쉬메모리에 대한 데이터까지 초기화 되므로 상당한 부담이 발생 

* Stack을 제외한 모든 메모리를 공유하기 때문에 전역(global), 정적(static) 변수, new, malloc에 의한 모든 자료를 공유할 수가 있다.

  * 프로세스간 통신(ipc)과 같이 복잡한 과정을 거치지 않고 효율적인 일처리가 가능

  

#### 멀티스레드의 효율성과 안정성 문제

여러 개의 스레드가 동일한 데이터 공간을 공유하면서 이들을 수정한다는 점에 필연적으로 생기는 문제이다.

멀티 프로세스의 방식의 프로그램에서 하나의 프로세스가 자신의 데이터 공간을 망가뜨린다면 그것은 해당 프로세스의 중단을 낳게 될 것이다. 하지만 멀티 스레드 방식의 프로그램에서는 하나의 스레드가 자신이 사용하던 데이터 공간을 망가뜨린다면 그 결과는 하나의 데이터 공간을 공유하는 모든 스레드를 작동불능 상태로 만들어 버릴 것이다. 
이러한 문제에 대비하기 위해 Critical Section 기법이 존재한다.



#### Reference

* [uujing0 - 멀티 프로세스(Multi Process)와 멀티 스레드(Multi Thread)](http://you9010.tistory.com/136)
* [문범우 - 운영체제#1_ 스레드와 프로세스, 멀티프로그래밍, 멀티태스킹, 멀티스레딩, 멀티프로세싱](http://doorbw.tistory.com/26)
* [개발자 지망생 - 프로세스와 스레드의 차이](https://brunch.co.kr/@kd4/3)